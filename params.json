{"name":"TBD-evaluation","tagline":"New evaluation protocol for tracking-by-detection methods, in a simple and easy to use MATLAB toolbox.","body":"### set it up and running\r\nIf you already know what this is about and want to test it out-of-the-box just download the code and run `DEMO.m`. Otherwise, keep reading.\r\n\r\n# TBD-evaluation\r\nConventional experiments on Multi-Target Tracking (MTT) are built upon the belief that fixing the detections to different trackers is sufficient to obtain a fair comparison. Instead, ee argue how the true behavior of a tracker is exposed when evaluated by varying the input detections rather than by fixing them. We propose a systematic and reproducible protocol and a MATLAB toolbox for generating synthetic data starting from ground truth detections, a proper set of metrics to understand and compare trackers peculiarities and respective visualization solutions.\r\n\r\n# proposed tools\r\nThis MATLAB toolbox is composed of three main components:\r\n* **Data degradation**: this module is required to generate new detections from ground truth. It should only be employed for training, while generated data should be kept fixed for future comparison.\r\n* **Evaluation**: this code partially extends the *DEVKIT* proposed at MOT Challenge (www.motchallenge.net) with the ability to measure tracks length and automatically process a whole set of detections at different pairs of control parameters.\r\n* **Result visualization**: is needed to reproduce the exact same plots we reported in the original paper (see ref below).\r\n\r\n## data degradation\r\nThe toolbox provides 2 scripts to degrate the ground truth trajectories, `createDetectionsFromGT_OCCLUSIONS.m` and `createDetectionsFromGT_ROBUSTNESS.m`. The first one creates sets of detections with an increasing number of both occluded targets and occluded frames. The latter one instead, varies the detector precision and recall by inserting an increasing number of false positive and false negatives. Both the scripts have some configuration lines at the beginning, specifying the root folder of the toolbox and the name of the sequence to degradate.\r\n\r\n```matlab\r\nbaseFolder = 'D:\\lab\\TBD_evaluation';\r\ndatasetName = 'AVG-TownCentre';\r\n\r\n% control parameters\r\nP_range = 0.5 : 0.1 : 1;\r\nR_range = 0.5 : 0.1 : 1;\r\n\r\n% number of run to account for randomness\r\nd = 5;\r\n```\r\n\r\nAdditionally, it is also required to specify the range of variation of the control parameters (precision/recall in the reported example) and the number of detection sets generated at the same level of the parameters. The dataset name must also be the name of the folder which contains all the sequence info, in a tree structure similar to the one reported below. For example, for the sequence `AVG-TownCentre`:\r\n\r\n<pre>\r\nAVG-TownCentre\r\n|-- gt\r\n|   |-- gt.txt\r\n|-- det\r\n|   |-- det.txt\r\n|-- img\r\n|   |-- 000001.jpg\r\n|   |-- 000002.jpg\r\n|   |-- ...\r\n|-- robustness_data\r\n|-- occlusions_data\r\n</pre>\r\n\r\nThe last two folders must be created but will be filled by the scripts that generates the degraded detections starting from the file `gt.txt`. The `det` folder is not mandatory and needs to be created only if true detector responses are available. The detection format in the .txt files are the one adopted in the MOT Challenge competition. By running the scripts a number of txt files in `_data` folders the will be created. This number is the product of the number of steps each control parameter has (6*6 in this case) and the number of runs (5 in the example).\r\n\r\n## evaluation\r\nNow is the time to run the trackers you want to evaluate to create the a 1:1 output file for each one created in the previous section, *i.e.* an output for each different detection input. Once you have these results, you should organize them in a directory tree as follows. Suppose we have tested a tracker named `trk1`, then we should have in the root folder of this toolbox:\r\n\r\n<pre>\r\ntrackers\r\n|-- trk1\r\n|   |-- AVG-TownCentre\r\n|   |   |-- occlusions_results\r\n|   |   |   |-- AVG-TownCentre_P0.00_R0.00_01.txt\r\n|   |   |   |-- ...\r\n|   |   |   |-- AVG-TownCentre_P0.80_R0.60_03.txt\r\n|   |   |   |-- ...\r\n|   |   |-- robustness_results\r\n|   |   |   |-- AVG-TownCentre_P0.00_R0.00_01.txt\r\n|   |   |   |-- ...\r\n|   |   |   |-- AVG-TownCentre_P0.80_R0.60_03.txt\r\n|   |   |   |-- ...\r\n|   |   |-- det_results\r\n|   |   |   |-- det.txt\r\n</pre>\r\n\r\nInside the `trackers` folder, one folder must exists for each tracker one which to compare. Inside each trackers specific folders, one folder for each sequence has to be created containing at least `occlusion_results` and `robustness_results`. These two folder must contain the .txt files containing the tracking results. The name of the files must be the same of the input detections so that the toolbox can parse the values of P and R (in the example) and the number of the run. Once these folder are set up as shown above, the script `evaluateExperiments.m` can be lunched. It only needs some configurations to reach the results files:\r\n```matlab\r\nbaseFolder      = 'D:\\lab\\TBD_evaluation';\r\ntrackerName     = 'trk1';\r\nseqName         = 'AVG-TownCentre';\r\nresultsFolder   = 'robustness_results';\r\n```\r\nThe evaluation script is the same that can be downloaded from the MOT Challenge website. We only added a couple of lines to also save the generated tracks length so to account for our proposed measure as well. As we didn't want to change anything else of the evaluation script by MOT Challenge, it is also required to modify the `evaluator > seqmaps > seq_to_test.txt` and specify in the second line the name of the sequence to evaluate the trackers upon. First line must be left empty.\r\n\r\nBy running this script, a `results.mat` file is created inside each results folder. This files contain all the CLEAR MOT standard metrics and our proposed tracks length measure.\r\n\r\n## result visualization\r\nThe last contribution of our toolbox is a set of plots computed starting from the `results.mat` files generated in the previous sections. There are three types of plots, detailed in the paper (see reference below):\r\n- MOTA matrices\r\n- TL plots\r\n- TL areas\r\n\r\n<!-- The MOTA matrices describe how good a tracker is at retrieving true positives, rejecting false detections proposed by the detector and at the same time producing continuous tracks, also accounting for ID switches. Track Length (TL), instead, is the proposed metric and measures the longest sequence of frames in which each GT track was continuously and successfully tracked. So it is a value for each track. Results are then sorted in descending order in a survival curve-like plot. -->\r\n\r\n<p align=\"center\">\r\n  <img src=\"http://imagelab.ing.unimore.it/TBD-evaluation/images/MOTA-TL.png\" />\r\n</p>\r\n\r\nThese plots are created for each tracker and for each sequence in the script `createPlotsForSequence.m`, while are averaged over all sequences in the script `createPlotsForDataset.m`. For the single-sequence script, some parameter must be set:\r\n```matlab\r\n% names of the folders in \"trackers\" dir\r\ntrackerName     = {'trk1', ...};\r\nseqName         = 'AVG-TownCentre';\r\n\r\n% availability of true detection results (det_results folder)\r\nplotDetection   = 1;\r\n```\r\nSimilarly, these are the parameters for the datast script:\r\n```matlab\r\n% names of the folders in \"trackers\" dir\r\ntrackerName     = {'trk1', ...};\r\nsequences       = {'AVG-TownCentre', 'PETS09-S2L2', 'TUD-Stadtmitte', ...};\r\n```\r\n\r\nAlso a comparison plot which synthetically describes the TL curves are produced:\r\n<p align=\"center\">\r\n  <img src=\"http://imagelab.ing.unimore.it/TBD-evaluation/images/comparison.png\" />\r\n</p>\r\n\r\nAll the plots can easily be exported from MATLAB by saving the images both in pdf or eps format to preserve the vector quality of the figure.\r\n\r\n###citation and contacts\r\nIf you use this code, please cite the following article:\r\n\r\n```\r\nSolera, F.; Calderara, S.; Cucchiara, R., \"Towards the evaluation of reproducible robustness in tracking-by-detection\"\r\nProc. IEEE Int'l Conf. Advanced Video and Signal Based Surveillance (AVSS), Aug 2015\r\nURL: ...\r\n```\r\n\r\n- Francesco Solera    francesco.solera@unimore.it\r\n- Simone Calderara    simone.calderara@unimore.it\r\n- Rita Cucchiara        rita.cucchiara@unimore.it\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}